import { QueryPromise } from '../../query-promise';
import { Query, SQL, SQLWrapper } from '../../sql';
import { AnyPgColumn } from '../columns';
import { PgDialect } from '../dialect';
import { PgSession, PreparedQuery, PreparedQueryConfig } from '../session';
import { AnyPgTable, GetTableConfig } from '../table';
import { GetSubquerySelection, Subquery, SubqueryWithSelection, WithSubqueryWithSelection } from '../../subquery';
import { Simplify } from '../../utils';
import { BuildSubquerySelection, GetSelectTableName, JoinFn, JoinNullability, JoinType, LockConfig, LockStrength, PgSelectConfig, SelectFields, SelectMode, SelectResult } from './select.types';
export declare class PgSelectBuilder<TSelection extends SelectFields | undefined> {
    private fields;
    private session;
    private dialect;
    private withList;
    constructor(fields: TSelection, session: PgSession, dialect: PgDialect, withList?: Subquery[]);
    from<TSubquery extends Subquery>(subquery: TSubquery): PgSelect<TSubquery, TSelection extends undefined ? GetSubquerySelection<TSubquery> : TSelection, TSelection extends undefined ? 'single' : 'partial'>;
    from<TTable extends AnyPgTable>(table: TTable): PgSelect<TTable, TSelection extends undefined ? GetTableConfig<TTable, 'columns'> : TSelection, TSelection extends undefined ? 'single' : 'partial'>;
}
export interface PgSelect<TTable extends AnyPgTable | Subquery, TSelection, TSelectMode extends SelectMode = 'single', TNullability extends Record<string, JoinNullability> = Record<GetSelectTableName<TTable>, 'not-null'>> extends QueryPromise<SelectResult<TSelection, TSelectMode, TNullability>[]>, SQLWrapper {
}
export declare class PgSelect<TTable extends AnyPgTable | Subquery, TSelection, TSelectMode extends SelectMode = 'single', TNullability extends Record<string, JoinNullability> = Record<GetSelectTableName<TTable>, 'not-null'>> extends QueryPromise<SelectResult<TSelection, TSelectMode, TNullability>[]> implements SQLWrapper {
    private isPartialSelect;
    private session;
    private dialect;
    protected $table: TTable;
    protected $selectMode: TSelectMode;
    protected $selection: TSelection;
    private config;
    private joinsNotNullable;
    private tableName;
    constructor(table: PgSelectConfig['table'], fields: PgSelectConfig['fields'], fieldsList: PgSelectConfig['fieldsList'], isPartialSelect: boolean, session: PgSession, dialect: PgDialect, withList: Subquery[]);
    private createJoin;
    leftJoin: JoinFn<TTable, TSelectMode, "left", TSelection, TNullability>;
    rightJoin: JoinFn<TTable, TSelectMode, "right", TSelection, TNullability>;
    innerJoin: JoinFn<TTable, TSelectMode, "inner", TSelection, TNullability>;
    fullJoin: JoinFn<TTable, TSelectMode, "full", TSelection, TNullability>;
    where(where: SQL | undefined): Omit<this, 'where' | `${JoinType}Join`>;
    groupBy(...columns: (AnyPgColumn | SQL)[]): Omit<this, 'where' | `${JoinType}Join`>;
    orderBy(...columns: (AnyPgColumn | SQL)[]): Omit<this, 'where' | `${JoinType}Join` | 'orderBy'>;
    limit(limit: number): Omit<this, 'where' | `${JoinType}Join` | 'limit'>;
    offset(offset: number): Omit<this, 'where' | `${JoinType}Join` | 'offset'>;
    for(strength: LockStrength, config?: LockConfig): this;
    toSQL(): Simplify<Omit<Query, 'typings'>>;
    private _prepare;
    prepare(name: string): PreparedQuery<PreparedQueryConfig & {
        execute: SelectResult<TSelection, TSelectMode, TNullability>[];
    }>;
    execute: ReturnType<this['prepare']>['execute'];
    as<TAlias extends string>(alias: TAlias): SubqueryWithSelection<Simplify<BuildSubquerySelection<TSelection, TAlias, TNullability>>, TAlias>;
    prepareWithSubquery<TAlias extends string>(alias: TAlias): WithSubqueryWithSelection<Simplify<BuildSubquerySelection<TSelection, TAlias, TNullability>>, TAlias>;
}
//# sourceMappingURL=select.d.ts.map